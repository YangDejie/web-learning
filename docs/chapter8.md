​	<h1>第**8**章 硬件平台规划</h1>

# 1 选择接入Internet的方式

Interact上安置网站

- 创建自己的Web服务器，
- 使用托管服务器，
- 使用虚拟主机


- - VPS和[云主机](http://baike.baidu.com/view/2482016.htm)都是虚拟主机


- 租用主页空间或者使用免费空间 

# 2 服务器选型

1．托管服务器(主机托管) 

- 在ISP机房放置一台服务器，或向其租用一台服务器。
- 客户需要做的只是将设备放到ISP的中心机房或数据中心，然后客户进行网站的远程管理和维护。
- ISP为客户提供优越的主机环境．包括机架空间、恒温、恒湿环境、网络安全防护、UPS供电以及防火设施等等。
- ISP向用户收取机架空间费用和接入费用，


- - 机架空间费按其设备实际占用的高度(以U为单位)计算，
  - 接入费用按具体的接入速率来计算


- 主机托管适合于中、大型规模的网站。



2.数据库服务器

- - - 瓶颈所在

    - MYSQL  一主多从结构

    - - 主服务器  innoDB 表结构

      - - InnoDB，是MySQL的数据库引擎之一，为[MySQL AB](http://baike.baidu.com/view/2270659.htm)发布binary的标准之一。
        - InnoDB由Innobase Oy公司所开发，2006年五月时由[甲骨文公司](http://baike.baidu.com/view/22424.htm)并购。
        - 与传统的[ISAM](http://baike.baidu.com/view/1631256.htm)与[MyISAM](http://baike.baidu.com/view/1238940.htm)相比，InnoDB的最大特色就是支持了[ACID](http://baike.baidu.com/subview/600227/5926023.htm)兼容的[事务](http://baike.baidu.com/view/121511.htm)（Transaction）功能，类似于[PostgreSQL](http://baike.baidu.com/view/28196.htm)

      - 从服务器 myISAM 表结构

      - 充分发挥优势，分离读写操作

      - 专门的备份服务器

# 3 服务器组件



2．传统的虚拟主机

- 租用ISP服务器硬盘空间，使用特殊的软、硬件技术，把一台计算机主机分成许多台虚拟的主机，每台虚拟主机都具有独立的域名和IP地址(也可以共享IP地址)，并有完整的Internet服务器(WWW、FTP、E-mail)功能。
- 不必支付专用线路费用，也不必为使用和维护服务器的技术问题担心
- 缺陷: 


- - 用户通过访问权限进行隔离，效果较差，容易受其他用户影响


- - - 网络速度影响，现访问延迟现象。
    - 限制运行某些程序，如CGI程序等；
    - 有时因为操作系统类型、数据库类型等原因，用户被限制只能按ISP提供的很少种类的脚本编写自己的网页，甚至只被允许运行一些简单的、ISP预先挑选出来的脚本。

3 .  VPS主机

- - Virtual Private Server 虚拟专用服务器技术，
  - 将一台[服务器](http://baike.baidu.com/view/899.htm)分割成多个虚拟专享服务器的优质服务。
  - 在容器或虚拟机中，每个VPS都可分配独立公网IP地址、独立操作系统、实现不同VPS间磁盘空间、内存、CPU资源、进程和系统配置的隔离，为用户和应用程序模拟出“独占”使用计算资源的体验。
  - VPS可以像独立服务器一样，重装操作系统，安装程序，单独重启服务器。
  - VPS为使用者提供了管理配置的自由，可用于企业虚拟化，也可以用于IDC资源租用。



- 4.云主机


- - 就是在vps的技术上再加上一个云的概念。
  - 云主机把用户的各种资料储存在一个相当于服务器集群的地方，这样即使有一台服务器挂了也不会影响用户正常的使用。
  - 从技术上来说云主机是vps的进步。不过中国的云技术发展还不是很成熟。真正使用云技术的主机比较少。
  - 而且就用户需求方面来看，vps已经完全满足用户需求，并且vps技术在国内已经相当成熟。


- \5. 免费空间


- - 大多数免费虚拟主机都需要定期续期，帮主机商打几个广告，夸一下他们，合格的话你才有继续使用的权利，这是典型的替他们“工作”来换取免费虚拟主机使用的方式
  - 有 些免费虚拟主机限制了网站类型和访问量，超出了他们的限制范围只能通过缴纳一定的费用来换取继续使用网站空间的机会，虽然这个费用比较少，聚沙成塔的收费模式
  - 有些虚拟主机限制了搜索引擎的爬取，以节省免费虚拟主机可怜的带 宽，这就意味着你建立在免费虚拟主机上的网站空间永远做不大，这样的网站没有未来

# 4 服务器常用技术



个人网站和blog

- 所谓个人网站是指上网者以个体形式制作和发布网站，充分展现个人某些方面的才华和专长，张贴个人简历、发布个人信息和见解等，并提供网络特色服务吸引浏览客户。
- WEBLOG是WEB LOG的缩写，中文意思是“网络日志”，后来缩写为BLOG，而BLOGGER(博客)则是写BLOG的人。博客(BLOGGER)是使用特定的博克模板，在网络上出版、发表和张贴个人文章的人。

# 5 服务器机房环境因素 

- 1）机房选择


- - 单线机房、双线机房和多线机房。
  - 当前国内用户所用的宽带基本上都是电信或者网通的,所以双线机房成为了IDC界主流的机房。


- - - BGP协议的双线单IP
    - 双线双IP


- - 一些服务器托管商为了节省自身的成本,便采用了“假双线”。


- - - 在电信、网通进行网站镜像，即电信、网通都各有一个网站,然后通过CDN加速来实现加速功能。


- - - - 这样就会导致客户的成本增加,因为需要购买两个空间服务器,而且维护成本也会随着增高,要同时对两个网站的数据进行维护。
     - 最大的问题就是某些程序不适用,会导致数据不同步,出现大问题。比如电信的上传的图片,网通端的用户是看不到的,这就是我们经常会看到有些网站的图片会显示不出来。


- 1）机房选择


- - 最好选择骨干节点城市托管服务器
  - 城市越大，机房越贵
  - 北京公司，主机托管到天津，廊坊等地


- 2）带宽大小


- - 页面浏览量 PV


- - - 一天内平均分配， 每秒 x次访问
    - 网页平均大小 y KB   1B=8bit


- - 假设峰值流量是平均流量的3倍


- 3）服务器的划分


- - 访问量大的网站需要服务器分离
  - 图片服务器


- - - 与页面服务器分离
    - Apache在配置contentType, 只支持必要的类型
    - 采用不同域名，配置DNS轮循，达到负载均衡


- - 日志服务器


- - - 合并情况下，凌晨进行日志计算
    - 分离设计，不影响正式服务器的工作状态

# 6 网站建设服务供应商选择

- 网站建设服务供应商主要有


- - **ISP**


- - - ** Internet Service Provider**缩写，即互联网服务提供商，
    - 向广大用户综合提供互联网接入业务、信息业务、和增值业务的电信运营商。  


- - **ICP**


- - - **Internet Content Provider**，即互联网内容提供商，
    - 向广大用户综合提供互联网信息业务和增值业务的电信运营商。
    - 国内知名**ICP**有新浪、搜狐、**163**、**TOM**等 


- - **ASP** 
  - - - Application Service Provider，即应用服务提供商，
      - 是为各种各样的商务客户和事务客户提供其所需的应用，并且这种应用通过托管或者租用的形式实现，而不是使用传统的购买方式或者用户定制开发的形式实现的，从而使客户的应用开发成本大幅度下降。

  - **IDC**


- - - ]的英文是Internet Data Center的缩写，即互联网数据中心。
    - 它为ICP、企业、媒体和各类网站提供大规模、高质量、安全可靠的专业化服务器托管、空间租用、网络批发带宽以及ASP、EC等业务 


- - - ]的英文是Internet Data Center的缩写，即互联网数据中心。
    - 它为ICP、企业、媒体和各类网站提供大规模、高质量、安全可靠的专业化服务器托管、空间租用、网络批发带宽以及ASP、EC等业务 